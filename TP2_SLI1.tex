\documentclass[12pt, a4paper, openany]{report}

\def\VersionRapport{1.0}

\usepackage[utf8]{inputenc} % un package
\usepackage[T1]{fontenc}      % un second package
\usepackage[francais]{babel}  % un troisième package
\usepackage{layout}
\usepackage[top=2.7cm, bottom=2.5cm, left=3.5cm, right=3cm]{geometry}
\usepackage{setspace}

\frenchbsetup{StandardLists=true} % à inclure si on utilise \usepackage[french]{babel}
%\usepackage{enumitem}
\usepackage[shortlabels]{enumitem}
\usepackage{amssymb}

\usepackage{color}
\usepackage{listings}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
  language=Java,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3
}

\usepackage{multirow} % pour les tableaux
\usepackage[table]{xcolor} % pour les tableaux

\usepackage{verbatim}
\usepackage{moreverb}
\usepackage{url}
\usepackage{pst-all}
\usepackage{eso-pic,graphicx}
\usepackage{caption} 
\usepackage[colorlinks=true,urlcolor=blue,linkcolor=red]{hyperref}
\usepackage{array}
\usepackage[toc,page]{appendix}
\usepackage[off]{auto-pst-pdf}
\usepackage{hyperref} % pour le sommaire table des matières
\AddThinSpaceBeforeFootnotes % à insérer si on utilise \usepackage[french]{babel}
\FrenchFootnotes % à insérer si on utilise \usepackage[french]{babel}
\usepackage{fancyhdr}
\pagestyle{headings}
\usepackage{pifont}  %pour les puces
\usepackage{amsmath} %pour les puces

\usepackage{verbatim} % pour le code en annexe 

%%%%%%%colones 
\newcolumntype{R}[1]{>{\raggedleft\arraybackslash }b{#1}}
\newcolumntype{L}[1]{>{\raggedright\arraybackslash }b{#1}}
\newcolumntype{C}[1]{>{\centering\arraybackslash }b{#1}}
%%%%%%% 

\renewcommand{\appendixpagename}{Annexes}
\renewcommand{\appendixtocname}{Annexes}

\title{Theme: Compte Rendu Système Linéaire à Temps Continu 1}
\author{REBOUT \bsc{Mehenna}}
\author{BOUYOUCEF \bsc{Farid}}
\date{2018-2019}



%new
\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}


\begin{document}

%\selectlanguage{francais}
\pagenumbering{arabic} 

\makeatletter
  \begin{titlepage}
  

  \begin{sffamily}
   \begin{center}

    % Upper part of the page. The '~' is needed because \\
    % only works if a paragraph has started.
    \includegraphics[scale=0.5]{Logo_UT3.jpg}~\\[1.5cm]

    \textsc{\LARGE Master 1 EEA ISTR/RODECO  }\\[2cm]

    \textsc{\Large Compte Rendu  Système Linéaire à Temps Continu 1}\\[1.5cm]

    % Title
    \HRule \\[0.4cm] % saut de ligne
    { \huge \bfseries TP 1 Pendule\\[0.4cm] }

    \HRule \\[1cm]   % sous de ligne 
    \includegraphics[scale=0.1]{logomaster.jpg}
    \\[1cm]

    % Author and supervisor
    \begin{minipage}{0.4\textwidth}
      \begin{flushleft} \large
         \textsc{\emph {Réalisés par:} \\REBOUT Mehenna}\\
         \textsc{BOUYOUCEF Farid}   
          \newline
          Promotion 2018-2019 \\
      \end{flushleft}
    \end{minipage}
    \begin{minipage}{0.4\textwidth}
      \begin{flushright} \large
        \emph{Tuteur :}  \textsc{M DUROLA}\\
        \emph{Responsable de la Formation:} \textsc{M GOUAISBAUT}
      \end{flushright}
    \end{minipage}

    \vfill

    % Bottom of the page
    {\large Octobre 2018}

  \end{center}
  \end{sffamily}      
          
  \end{titlepage}
  
\makeatother




   
%*********************** somaire **************
\renewcommand{\contentsname}{Sommaire}
\tableofcontents
%*********************** listes des figures **************
\listoffigures
%*********************** listes des tableaux **************
\listoftables



%*********************** INTRODUCTION **************
\chapter*{Introduction}Dans ce TP on va réaliser un asservissement de position ,on va utiliser pour cette manipulation la platine voir   la Figure 1.1.
\addcontentsline{toc}{chapter}{Introduction}

\begin{center}
\includegraphics[scale=0.5]{fiiig1.png}
\captionof{figure}{\textit{Asservissement de position par calculateur}}
\label{fig1} 
\end{center}

Les valeurs numériques des coefficients connus sont:\\

 $K_e=10(V.tr^-1)$	 \hfill		$K_s=10(V.tr^-1)$	\hfill		$Kg=0.105(V.s.tr^-1)$ 
 
 
    \section{ÉTUDE PRÉLIMINAIRE DU PROCÉDÉ}
     \subsection{Représentation et analyse de ensemble (moteur, réducteur, potentiomètre, génératrice        tachymétrique) pour le système $ {S_V}_m \rightarrow V_S$ }
 

\begin{center}
\includegraphics[scale=0.5]{fiiig2.png}
\captionof{figure}{\textit{ Eléments de la platine "asservissement de positon"}}
\label{fig1} 
\end{center}

On considère le système en boucle ouverte l’entrée du système on boucle ouvert est $V_m(t)$ et la sortie mesurée $V_s(t)$, que l’on note  par $ {S_V}_m \rightarrow V_S$.


\subsubsection{la représentation d’état de ce système, lorsque son vecteur d’état est défni par:}


\begin{equation}
x(t)={(x_1(t),x_2(t))}^T={(V_s(t),V_g(t))}^T
\end{equation}
$x_1=V_s$ et $x_2=V_g$
\\\\


$x_1=\frac{K_s}{9p}\frac{x_2}{K_g}$\\
$\frac{x_2}{K_g}=\frac{K_m}{1+T_m}$
\\
\\
$K_{haut}$=
$$
\begin{matrix}
-4.4472 &  36.9886  & -3.3994 &   5.3447
\end{matrix} 
$$     
\begin{equation*}
      \left\{
         \begin{aligned}
           k\,\frac{\mathrm{d}T}{\mathrm{d}t}&=S(1-\alpha)-\sigma_{eff}T^4-k_w\frac{\mathrm{d}W_s}{\mathrm{d}t} & (1)\\
           \frac{\mathrm{d}C_a}{\mathrm{d}t}&=-P+mC_s+e(t) & (2) \\
           \frac{\mathrm{d}C_s}{\mathrm{d}t}&=P-mC_s & (3) \\
           \frac{\mathrm{d}W_a}{\mathrm{d}t}&=-H+E & (4) \\
           \frac{\mathrm{d}W_s}{\mathrm{d}t}&=H-E & (5)
         \end{aligned}
      \right.
    \end{equation*}
%\left\lbrace
%\begin{array}{1}
%$dot{x}$=$$A.x+B.u \\
%y=C.x+D.u 
%\end{array}$$

%\\

%$\dot{X}$=$$
%\begin{matrix}
%0&\frac{K_s}{9K_g}\\0&-\frac{1}{T_m}
%\end{matrix}x$$
%$$\quad+\quad
%\$begin{matrix}
%0\\
%\frac{K_mK_g}{T_m}
%\end{matrix}V_m
%$$
%\\\\

%avec $U=V_m , Y=v_s$, X est le vecteur d'état$\\
%D'où:\\
%$système en boucle ouverte $ \Longrightarrow $pas de transfert direct D=0$\\
%$$y=[1\quad0].X$$
%\paragraph{Présentation du pendule inversé :} La Figure 1 donne une représentation schématique du pendule. Le bras est relié au moteur, qui entraîne la rotation du bras et donc du pendule. Il a une longueur L{r} et un moment d'inertie J{r} . Nous noterons son angle $\theta$ . Le pendule, quant à lui, est axé au bout du bras. Il a une longueur L{p}. Son moment d'inertie au centre de masse est noté J{p}. On note l'angle que fait l'axe du pendule avec l'axe verticale a (en radian).

%\begin{center}
%\includegraphics[scale=0.5]{pondule.png}
%\captionof{figure}{\textit{Composant du pendule}}
%\label{fig1} 
%\end{center}








%%**********************Partie 3 *********************** 


 \chapter{MISE EN PLACE D’UN RETOUR D’ÉTAT ET D’UN PRÉ-COMPENSATEUR}

L'asservissement de position du système $S_{v_{m}\longmapsto v_{s}}$ , est réalisé selon la loi de commande par retour d'état :\\
 $v_{m}(t)=Nk_{e}\theta_{r}(t)-Kx(t)=Nv_{r}(t)-Kx(t)$ , avec : $K=[k_{1} \hspace{2mm} k_{2}]$.\\\\
 
 \section{Calcul des paramètre du retour d'état dans la base initial :}
 
\subsection{Détermination de l'expression du système ($A_{bf}$, $B_{bf}$, $C_{bf}$ et $D_{bf}$) :}

D'après notre système on a l'expression :\\
\\\\
$\dot{x}=Ax+Bv_{m}=Ax+B(Nv_{r}-Kx)=(A-BK)x+BNv_{r}$
\\\\
On obtient alors notre matrice dynamique \quad $A_{bf}$=(A-BK)\\
\\
et : \quad $B_{bf}$=B.N \\
 et :\quad $C_{bf}$=[1 0] \\
 et :\quad $D_{bf}$=[0] \\\\\\\\\\

\subsection{L'expression de $A_{bf}$ en fonction de $[k_{1}$,$k_{2}]$ : }

On a $A_{bf}$=(A-BK),  avec: $K=[k_{1} \hspace{2mm} k_{2}]$
D'ou :\\\\
$A_{bf}=
\begin{bmatrix} 
0 & \frac{K_{s}}{9K_{g}} \\
-\frac{K_{g}K_{m}}{T_{m}}.k_{2} & -\frac{K_{g}K_{m}}{T_{m}}.k_{2}-\frac{1}{T_{m}}
\end{bmatrix}$ \\\\

\subsection{Justification la possibilité de placer les V.P de la matrice $A_{bf}$ et calcul de K :}

On a les valeurs propres : $v_{1},v_{2}=-2.4\pm5.5j$ \\
et:\\
$A_{bf}=
\begin{bmatrix} 
0 & \frac{K_{s}}{9K_{g}} \\
-\frac{K_{g}K_{m}}{T_{m}}.k_{2} & -\frac{K_{g}K_{m}}{T_{m}}.k_{2}-\frac{1}{T_{m}}
\end{bmatrix}$ \\\\

L'expression du polynôme caractéristique est:\\
P($\lambda$)=$\lambda^2+(\frac{1}{T_{m}}-\frac{K_{g}K_{m}}{T_{m}}.k_{2})\lambda+\frac{K_{s}}{9K_{g}}.\frac{K_{g}K_{m}}{T_{m}}.k_{1}$\\\\

On place les valeurs propres à $p_{1},p_{2}=-2.4\pm5.5j$\\

On obtient alors le polynôme suivant: \\\\
$(\lambda+2.4+5.5j)(\lambda+2.4-5.5j)={\lambda}^2+4.8\lambda+36.01$\\\\

Et par identification avec le polynôme P($\lambda$) et en tenant compte des valeurs expérimentales de $K_{g} K_{m} K_{s}$ et$T_{m}$ , on trouve alors:  $k_1$=1.389à \quad $k_2$=0.5986 \hyperref[section1.1]{(voir Annexe)}\label{annexe1}\\



\section{Calcul des paramètres du retour d'état en utilisant la forme compagne de commande :}

\subsubsection{Loi de commande de la forme compagne de commande }

\subsubsection{Déterminer l'expression du modèle}
Le modèle d'espace d'état sous la forme compagne de commande est:\\
\begin{itemize}
Matrice d'état:$A_{cbf}=A_c-B_ck_c$\\
\end{itemize}
\begin{itemize}
Matrice de commande:$B_{cbf}=B_cN$\\
\end{itemize}
\begin{itemize}
Matrice de sortie:$C_{cbf}=C_c$ ;\quad Matrice de transfert $D_{cbf}=0$\\
\end{itemize}
\subsubsection{Expression de la matrice d'état ou matrice dynamique en fonction de K_{1c} et K_{2c}}
\\
Avant de déterminer la forme compagne de $A_{cbf}$, nous allons determiné la forme compagne de A et B (A_c,B_c).\\
A partir de l'expression du polynôme caractéristique qui est: $ P(\lambda)=\lambda^2+\frac{1}{T_m}\lambda$, nous avons \\
A_c=\begin{bmatrix}
0&1\\
0&-\frac{1}{T_m}
\end{bmatrix}
\quad B_c=\begin{bmatrix}
0\\1
\end{bmatrix}
\\\\
$A_{cbf}=A_c-B_ck_c$\\
$A_{cbf}$=\begin{bmatrix}
0&1\\
0&-\frac{1}{T_m}
\end{bmatrix}
- \begin{bmatrix}
0\\1
\end{bmatrix}. \begin{bmatrix}
K_{1c}&K_{2c}
\end{bmatrix}
\\\\
\Longleftrightarrow \quad
$A_{cbf}$=\begin{bmatrix}
0&1\\
-K_{1c}&-\frac{1}{T_m}.K_{2c}
\end{bmatrix}
\\
Nous voulons placer les valeurs propres à $p_1,p_2=-2.4\pm 5.5j$
on aura donc la caractéristique suivante:\\
P(\lambda)={\lambda}^2+4.8\lambda+36.01\\

par identification des élements des matrices on a:\\
\begin{bmatrix}
0&1\\
-K_{1c}&-\frac{1}{T_m}.K_{2c}
\end{bmatrix}=\begin{bmatrix}
0&1\\
-36.01&-4.8
\end{bmatrix}
\\\\
  
On trouve $K_{1c}=36.01$ et $K_{2c}=1.467$ avec de K_m=7 et T_m=0.3\\
$K=K_c.P^{-1}$ \\
\\
Nous trouvons K=\begin{bmatrix}
1.378&0.598
\end{bmatrix}
\\
\\
\begin{center}
\Rightarrow N=1.38\\
\end{center}
	
		
		
		



%%******************* Coclusion
\chapter*{Conclusion}
\addcontentsline{toc}{chapter}{Conclusion}

Ce TP nous a permet d'utiliser les différentes commandes de robustesse et a appris de définir un correcteur par étapes, cela en vérifiant chaque contrainte pour déterminer un meilleur correcteur.\\










\begin{appendices}
\chapter*{Annexe 1}
	\hyperref[annexe1]{(Retour)}\label{section1.1}
	
	
\begin{lstlisting}
	
% Script TP MOTEUR

	clear all
	close all

% Periode d'echantillonnage
	Te = 0.01;

% Modele du moteur :
	Ke = 3.6/1000*60/(2*pi);

	Km=7;
	Tm=0.3;
	Kc=3.5/100;
	Kg = 0.105;
	Ks=10;

	A=[0 Ks/(9*Kg);0 (-1/Tm)];
	B=[0; (Km*Kg)/Tm];
	C=[1 0];
	D=[0];

	sys=ss(A,B,C,D);
	Vp=eig(A);

	Co=ctrb(sys);
	rang_co=rank(Co);

	Obs=obsv(sys);
	rang_obs=rank(Obs);

%%%%%%%%%%%partie 3.1*******
	K=acker(A,B,[-2.4+5.5*i -2.4-5.5*i])

%%%%% d'ou: K =[1.3890    0.5986]
	K1=1.3890;
	K2=0.5986;
	Abf=[0 Ks/(9*Kg); -((Kg*Km)/Tm)*K1 -((Kg*Km)/Tm)*K2-(1/Tm)];
	Bbf=[0; (Km*Kg)/Tm];
	Cbf=[1 0];
	Dbf=[0];

	sys=ss(Abf,Bbf,Cbf,Dbf)
	Vp1=eig(Abf)
%%% on calcule les valeur propre de la nouvelle matrice et si ils sont
%%%%%%% egale aux pole desire donc on est bien 
%Vp1 = -2.4000 + 5.5001i
 %    -2.4000 - 5.5001i
		
			    			
	\end{lstlisting}	
				
\end{appendices}





%Bibliographie 
%\bibliographystyle{alpha}
%\bibliography{biblio}




\end{document}







